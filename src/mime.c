/*
    Copyright 2015 Rodrigo Fernandes da Costa

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

    Author: Rodrigo Fernandes da Costa

    E-mail: rodrigo5244@gmail.com
*/

#include "mime.h"

char *mimeExtentions[] = {
  "%",
  "323",
  "3gp",
  "7z",
  "abw",
  "ai",
  "aif",
  "aifc",
  "aiff",
  "alc",
  "amr",
  "anx",
  "apk",
  "appcache",
  "art",
  "asc",
  "asf",
  "asn",
  "aso",
  "asx",
  "atom",
  "atomcat",
  "atomsrv",
  "au",
  "avi",
  "awb",
  "axa",
  "axv",
  "b",
  "bak",
  "bat",
  "bcpio",
  "bib",
  "bin",
  "bmp",
  "boo",
  "book",
  "brf",
  "bsd",
  "c",
  "c++",
  "c3d",
  "cab",
  "cac",
  "cache",
  "cap",
  "cascii",
  "cat",
  "cbin",
  "cbr",
  "cbz",
  "cc",
  "cda",
  "cdf",
  "cdr",
  "cdt",
  "cdx",
  "cdy",
  "cef",
  "cer",
  "chm",
  "chrt",
  "cif",
  "class",
  "cls",
  "cmdf",
  "cml",
  "cod",
  "com",
  "cpa",
  "cpio",
  "cpp",
  "cpt",
  "cr2",
  "crl",
  "crt",
  "crw",
  "csd",
  "csf",
  "csh",
  "csm",
  "csml",
  "css",
  "csv",
  "ctab",
  "ctx",
  "cu",
  "cub",
  "cxf",
  "cxx",
  "d",
  "davmount",
  "dcm",
  "dcr",
  "ddeb",
  "deb",
  "dif",
  "diff",
  "dir",
  "djv",
  "djvu",
  "dl",
  "dll",
  "dmg",
  "dms",
  "doc",
  "docm",
  "docx",
  "dot",
  "dotm",
  "dotx",
  "dv",
  "dvi",
  "dx",
  "dxr",
  "emb",
  "embl",
  "eml",
  "ent",
  "eot",
  "eps",
  "eps2",
  "eps3",
  "epsf",
  "epsi",
  "erf",
  "es",
  "etx",
  "exe",
  "ez",
  "fb",
  "fbdoc",
  "fch",
  "fchk",
  "fig",
  "flac",
  "fli",
  "flv",
  "fm",
  "frame",
  "frm",
  "gal",
  "gam",
  "gamin",
  "gan",
  "gau",
  "gcd",
  "gcf",
  "gcg",
  "gen",
  "gf",
  "gif",
  "gjc",
  "gjf",
  "gl",
  "gnumeric",
  "gpt",
  "gsf",
  "gsm",
  "gtar",
  "gz",
  "h",
  "h++",
  "hdf",
  "hh",
  "hin",
  "hpp",
  "hqx",
  "hs",
  "hta",
  "htc",
  "htm",
  "html",
  "hwp",
  "hxx",
  "ica",
  "ice",
  "ico",
  "ics",
  "icz",
  "ief",
  "iges",
  "igs",
  "iii",
  "info",
  "inp",
  "ins",
  "iso",
  "isp",
  "ist",
  "istr",
  "jad",
  "jam",
  "jar",
  "java",
  "jdx",
  "jmz",
  "jng",
  "jnlp",
  "jp2",
  "jpe",
  "jpeg",
  "jpf",
  "jpg",
  "jpg2",
  "jpm",
  "jpx",
  "js",
  "json",
  "kar",
  "key",
  "kil",
  "kin",
  "kml",
  "kmz",
  "kpr",
  "kpt",
  "ksp",
  "kwd",
  "kwt",
  "latex",
  "lha",
  "lhs",
  "lin",
  "lsf",
  "lsx",
  "ltx",
  "ly",
  "lyx",
  "lzh",
  "lzx",
  "m3g",
  "m3u",
  "m3u8",
  "m4a",
  "maker",
  "man",
  "mbox",
  "mcif",
  "mcm",
  "mdb",
  "me",
  "mesh",
  "mid",
  "midi",
  "mif",
  "mkv",
  "mm",
  "mmd",
  "mmf",
  "mml",
  "mmod",
  "mng",
  "moc",
  "mol",
  "mol2",
  "moo",
  "mop",
  "mopcrt",
  "mov",
  "movie",
  "mp2",
  "mp3",
  "mp4",
  "mpc",
  "mpe",
  "mpeg",
  "mpega",
  "mpg",
  "mpga",
  "mph",
  "mpv",
  "ms",
  "msh",
  "msi",
  "mvb",
  "mxf",
  "mxu",
  "nb",
  "nbp",
  "nc",
  "nef",
  "nwc",
  "o",
  "oda",
  "odb",
  "odc",
  "odf",
  "odg",
  "odi",
  "odm",
  "odp",
  "ods",
  "odt",
  "oga",
  "ogg",
  "ogv",
  "ogx",
  "old",
  "one",
  "onepkg",
  "onetmp",
  "onetoc2",
  "opf",
  "opus",
  "orc",
  "orf",
  "otf",
  "otg",
  "oth",
  "otp",
  "ots",
  "ott",
  "oza",
  "p",
  "p7r",
  "pac",
  "pas",
  "pat",
  "patch",
  "pbm",
  "pcap",
  "pcf",
  "pcf.Z",
  "pcx",
  "pdb",
  "pdf",
  "pfa",
  "pfb",
  "pfr",
  "pgm",
  "pgn",
  "pgp",
  "pk",
  "pl",
  "pls",
  "pm",
  "png",
  "pnm",
  "pot",
  "potm",
  "potx",
  "ppam",
  "ppm",
  "pps",
  "ppsm",
  "ppsx",
  "ppt",
  "pptm",
  "pptx",
  "prf",
  "prt",
  "ps",
  "psd",
  "py",
  "pyc",
  "pyo",
  "qgs",
  "qt",
  "qtl",
  "ra",
  "ram",
  "rar",
  "ras",
  "rb",
  "rd",
  "rdf",
  "rdp",
  "rgb",
  "rm",
  "roff",
  "ros",
  "rpm",
  "rss",
  "rtf",
  "rtx",
  "rxn",
  "scala",
  "sce",
  "sci",
  "sco",
  "scr",
  "sct",
  "sd",
  "sd2",
  "sda",
  "sdc",
  "sdd",
  "sdf",
  "sds",
  "sdw",
  "ser",
  "sfd",
  "sfv",
  "sgf",
  "sgl",
  "sh",
  "shar",
  "shp",
  "shtml",
  "shx",
  "sid",
  "sig",
  "sik",
  "silo",
  "sis",
  "sisx",
  "sit",
  "sitx",
  "skd",
  "skm",
  "skp",
  "skt",
  "sldm",
  "sldx",
  "smi",
  "smil",
  "snd",
  "spc",
  "spl",
  "spx",
  "sql",
  "src",
  "srt",
  "stc",
  "std",
  "sti",
  "stl",
  "stw",
  "sty",
  "sv4cpio",
  "sv4crc",
  "svg",
  "svgz",
  "sw",
  "swf",
  "swfl",
  "sxc",
  "sxd",
  "sxg",
  "sxi",
  "sxm",
  "sxw",
  "t",
  "tar",
  "taz",
  "tcl",
  "tex",
  "texi",
  "texinfo",
  "text",
  "tgf",
  "tgz",
  "thmx",
  "tif",
  "tiff",
  "tk",
  "tm",
  "torrent",
  "tr",
  "ts",
  "tsp",
  "tsv",
  "ttf",
  "ttl",
  "txt",
  "udeb",
  "uls",
  "ustar",
  "val",
  "vcard",
  "vcd",
  "vcf",
  "vcs",
  "vmd",
  "vms",
  "vrm",
  "vrml",
  "vsd",
  "vss",
  "vst",
  "vsw",
  "wad",
  "wav",
  "wax",
  "wbmp",
  "wbxml",
  "webm",
  "wk",
  "wm",
  "wma",
  "wmd",
  "wml",
  "wmlc",
  "wmls",
  "wmlsc",
  "wmv",
  "wmx",
  "wmz",
  "woff",
  "wp5",
  "wpd",
  "wrl",
  "wsc",
  "wvx",
  "wz",
  "x3d",
  "x3db",
  "x3dv",
  "xbm",
  "xcf",
  "xcos",
  "xht",
  "xhtml",
  "xlam",
  "xlb",
  "xls",
  "xlsb",
  "xlsm",
  "xlsx",
  "xlt",
  "xltm",
  "xltx",
  "xml",
  "xpi",
  "xpm",
  "xsd",
  "xsl",
  "xslt",
  "xspf",
  "xtel",
  "xul",
  "xwd",
  "xyz",
  "xz",
  "zip",
  "zmt",
  "~",
  NULL
};

char *mimeTypes[] = {
  "application/x-trash",
  "text/h323;charset=utf-8",
  "video/3gpp",
  "application/x-7z-compressed",
  "application/x-abiword",
  "application/postscript",
  "audio/x-aiff",
  "audio/x-aiff",
  "audio/x-aiff",
  "chemical/x-alchemy",
  "audio/amr",
  "application/annodex",
  "application/vnd.android.package-archive",
  "text/cache-manifest;charset=utf-8",
  "image/x-jg",
  "text/plain;charset=utf-8",
  "video/x-ms-asf",
  "chemical/x-ncbi-asn1-spec",
  "chemical/x-ncbi-asn1-binary",
  "video/x-ms-asf",
  "application/atom+xml",
  "application/atomcat+xml",
  "application/atomserv+xml",
  "audio/basic",
  "video/x-msvideo",
  "audio/amr-wb",
  "audio/annodex",
  "video/annodex",
  "chemical/x-molconn-Z",
  "application/x-trash",
  "application/x-msdos-program",
  "application/x-bcpio",
  "text/x-bibtex;charset=utf-8",
  "application/octet-stream",
  "image/x-ms-bmp",
  "text/x-boo;charset=utf-8",
  "application/x-maker",
  "text/plain;charset=utf-8",
  "chemical/x-crossfire",
  "text/x-csrc;charset=utf-8",
  "text/x-c++src;charset=utf-8",
  "chemical/x-chem3d",
  "application/x-cab",
  "chemical/x-cache",
  "chemical/x-cache",
  "application/vnd.tcpdump.pcap",
  "chemical/x-cactvs-binary",
  "application/vnd.ms-pki.seccat",
  "chemical/x-cactvs-binary",
  "application/x-cbr",
  "application/x-cbz",
  "text/x-c++src;charset=utf-8",
  "application/x-cdf",
  "application/x-cdf",
  "image/x-coreldraw",
  "image/x-coreldrawtemplate",
  "chemical/x-cdx",
  "application/vnd.cinderella",
  "chemical/x-cxf",
  "chemical/x-cerius",
  "chemical/x-chemdraw",
  "application/x-kchart",
  "chemical/x-cif",
  "application/java-vm",
  "text/x-tex;charset=utf-8",
  "chemical/x-cmdf",
  "chemical/x-cml",
  "application/vnd.rim.cod",
  "application/x-msdos-program",
  "chemical/x-compass",
  "application/x-cpio",
  "text/x-c++src;charset=utf-8",
  "image/x-corelphotopaint",
  "image/x-canon-cr2",
  "application/x-pkcs7-crl",
  "application/x-x509-ca-cert",
  "image/x-canon-crw",
  "audio/csound",
  "chemical/x-cache-csf",
  "text/x-csh;charset=utf-8",
  "chemical/x-csml",
  "chemical/x-csml",
  "text/css;charset=utf-8",
  "text/csv;charset=utf-8",
  "chemical/x-cactvs-binary",
  "chemical/x-ctx",
  "application/cu-seeme",
  "chemical/x-gaussian-cube",
  "chemical/x-cxf",
  "text/x-c++src;charset=utf-8",
  "text/x-dsrc;charset=utf-8",
  "application/davmount+xml",
  "application/dicom",
  "application/x-director",
  "application/vnd.debian.binary-package",
  "application/x-debian-package",
  "video/dv",
  "text/x-diff;charset=utf-8",
  "application/x-director",
  "image/vnd.djvu",
  "image/vnd.djvu",
  "video/dl",
  "application/x-msdos-program",
  "application/x-apple-diskimage",
  "application/x-dms",
  "application/msword",
  "application/vnd.ms-word.document.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
  "application/msword",
  "application/vnd.ms-word.template.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.wordprocessingml.template",
  "video/dv",
  "application/x-dvi",
  "chemical/x-jcamp-dx",
  "application/x-director",
  "chemical/x-embl-dl-nucleotide",
  "chemical/x-embl-dl-nucleotide",
  "message/rfc822",
  "chemical/x-pdb",
  "application/vnd.ms-fontobject",
  "application/postscript",
  "application/postscript",
  "application/postscript",
  "application/postscript",
  "application/postscript",
  "image/x-epson-erf",
  "application/ecmascript",
  "text/x-setext;charset=utf-8",
  "application/x-msdos-program",
  "application/andrew-inset",
  "application/x-maker",
  "application/x-maker",
  "chemical/x-gaussian-checkpoint",
  "chemical/x-gaussian-checkpoint",
  "application/x-xfig",
  "audio/flac",
  "video/fli",
  "video/x-flv",
  "application/x-maker",
  "application/x-maker",
  "application/x-maker",
  "chemical/x-gaussian-log",
  "chemical/x-gamess-input",
  "chemical/x-gamess-input",
  "application/x-ganttproject",
  "chemical/x-gaussian-input",
  "text/x-pcs-gcd;charset=utf-8",
  "application/x-graphing-calculator",
  "chemical/x-gcg8-sequence",
  "chemical/x-genbank",
  "application/x-tex-gf",
  "image/gif",
  "chemical/x-gaussian-input",
  "chemical/x-gaussian-input",
  "video/gl",
  "application/x-gnumeric",
  "chemical/x-mopac-graph",
  "application/x-font",
  "audio/x-gsm",
  "application/x-gtar",
  "application/gzip",
  "text/x-chdr;charset=utf-8",
  "text/x-c++hdr;charset=utf-8",
  "application/x-hdf",
  "text/x-c++hdr;charset=utf-8",
  "chemical/x-hin",
  "text/x-c++hdr;charset=utf-8",
  "application/mac-binhex40",
  "text/x-haskell;charset=utf-8",
  "application/hta",
  "text/x-component;charset=utf-8",
  "text/html;charset=utf-8",
  "text/html;charset=utf-8",
  "application/x-hwp",
  "text/x-c++hdr;charset=utf-8",
  "application/x-ica",
  "x-conference/x-cooltalk",
  "image/vnd.microsoft.icon",
  "text/calendar;charset=utf-8",
  "text/calendar;charset=utf-8",
  "image/ief",
  "model/iges",
  "model/iges",
  "application/x-iphone",
  "application/x-info",
  "chemical/x-gamess-input",
  "application/x-internet-signup",
  "application/x-iso9660-image",
  "application/x-internet-signup",
  "chemical/x-isostar",
  "chemical/x-isostar",
  "text/vnd.sun.j2me.app-descriptor;charset=utf-8",
  "application/x-jam",
  "application/java-archive",
  "text/x-java;charset=utf-8",
  "chemical/x-jcamp-dx",
  "application/x-jmol",
  "image/x-jng",
  "application/x-java-jnlp-file",
  "image/jp2",
  "image/jpeg",
  "image/jpeg",
  "image/jpx",
  "image/jpeg",
  "image/jp2",
  "image/jpm",
  "image/jpx",
  "application/javascript",
  "application/json",
  "audio/midi",
  "application/pgp-keys",
  "application/x-killustrator",
  "chemical/x-kinemage",
  "application/vnd.google-earth.kml+xml",
  "application/vnd.google-earth.kmz",
  "application/x-kpresenter",
  "application/x-kpresenter",
  "application/x-kspread",
  "application/x-kword",
  "application/x-kword",
  "application/x-latex",
  "application/x-lha",
  "text/x-literate-haskell;charset=utf-8",
  "application/bbolin",
  "video/x-la-asf",
  "video/x-la-asf",
  "text/x-tex;charset=utf-8",
  "text/x-lilypond;charset=utf-8",
  "application/x-lyx",
  "application/x-lzh",
  "application/x-lzx",
  "application/m3g",
  "audio/x-mpegurl",
  "application/x-mpegURL",
  "audio/mpeg",
  "application/x-maker",
  "application/x-troff-man",
  "application/mbox",
  "chemical/x-mmcif",
  "chemical/x-macmolecule",
  "application/msaccess",
  "application/x-troff-me",
  "model/mesh",
  "audio/midi",
  "audio/midi",
  "application/x-mif",
  "video/x-matroska",
  "application/x-freemind",
  "chemical/x-macromodel-input",
  "application/vnd.smaf",
  "text/mathml;charset=utf-8",
  "chemical/x-macromodel-input",
  "video/x-mng",
  "text/x-moc;charset=utf-8",
  "chemical/x-mdl-molfile",
  "chemical/x-mol2",
  "chemical/x-mopac-out",
  "chemical/x-mopac-input",
  "chemical/x-mopac-input",
  "video/quicktime",
  "video/x-sgi-movie",
  "audio/mpeg",
  "audio/mpeg",
  "video/mp4",
  "chemical/x-mopac-input",
  "video/mpeg",
  "video/mpeg",
  "audio/mpeg",
  "video/mpeg",
  "audio/mpeg",
  "application/x-comsol",
  "video/x-matroska",
  "application/x-troff-ms",
  "model/mesh",
  "application/x-msi",
  "chemical/x-mopac-vib",
  "application/mxf",
  "video/vnd.mpegurl",
  "application/mathematica",
  "application/mathematica",
  "application/x-netcdf",
  "image/x-nikon-nef",
  "application/x-nwc",
  "application/x-object",
  "application/oda",
  "application/vnd.oasis.opendocument.database",
  "application/vnd.oasis.opendocument.chart",
  "application/vnd.oasis.opendocument.formula",
  "application/vnd.oasis.opendocument.graphics",
  "application/vnd.oasis.opendocument.image",
  "application/vnd.oasis.opendocument.text-master;charset=utf-8",
  "application/vnd.oasis.opendocument.presentation",
  "application/vnd.oasis.opendocument.spreadsheet",
  "application/vnd.oasis.opendocument.text;charset=utf-8",
  "audio/ogg",
  "audio/ogg",
  "video/ogg",
  "application/ogg",
  "application/x-trash",
  "application/onenote",
  "application/onenote",
  "application/onenote",
  "application/onenote",
  "application/oebps-package+xml",
  "audio/ogg",
  "audio/csound",
  "image/x-olympus-orf",
  "application/font-sfnt",
  "application/vnd.oasis.opendocument.graphics-template",
  "application/vnd.oasis.opendocument.text-web;charset=utf-8",
  "application/vnd.oasis.opendocument.presentation-template",
  "application/vnd.oasis.opendocument.spreadsheet-template",
  "application/vnd.oasis.opendocument.text-template;charset=utf-8",
  "application/x-oz-application",
  "text/x-pascal;charset=utf-8",
  "application/x-pkcs7-certreqresp",
  "application/x-ns-proxy-autoconfig",
  "text/x-pascal;charset=utf-8",
  "image/x-coreldrawpattern",
  "text/x-diff;charset=utf-8",
  "image/x-portable-bitmap",
  "application/vnd.tcpdump.pcap",
  "application/x-font-pcf",
  "application/x-font-pcf",
  "image/pcx",
  "chemical/x-pdb",
  "application/pdf",
  "application/x-font",
  "application/x-font",
  "application/font-tdpfr",
  "image/x-portable-graymap",
  "application/x-chess-pgn",
  "application/pgp-encrypted",
  "application/x-tex-pk",
  "text/x-perl;charset=utf-8",
  "audio/x-scpls",
  "text/x-perl;charset=utf-8",
  "image/png",
  "image/x-portable-anymap",
  "text/plain;charset=utf-8",
  "application/vnd.ms-powerpoint.template.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.presentationml.template",
  "application/vnd.ms-powerpoint.addin.macroEnabled.12",
  "image/x-portable-pixmap",
  "application/vnd.ms-powerpoint",
  "application/vnd.ms-powerpoint.slideshow.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.presentationml.slideshow",
  "application/vnd.ms-powerpoint",
  "application/vnd.ms-powerpoint.presentation.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.presentationml.presentation",
  "application/pics-rules",
  "chemical/x-ncbi-asn1-ascii",
  "application/postscript",
  "image/x-photoshop",
  "text/x-python;charset=utf-8",
  "application/x-python-code",
  "application/x-python-code",
  "application/x-qgis",
  "video/quicktime",
  "application/x-quicktimeplayer",
  "audio/x-realaudio",
  "audio/x-pn-realaudio",
  "application/rar",
  "image/x-cmu-raster",
  "application/x-ruby",
  "chemical/x-mdl-rdfile",
  "application/rdf+xml",
  "application/x-rdp",
  "image/x-rgb",
  "audio/x-pn-realaudio",
  "application/x-troff",

  "chemical/x-rosdal",
  "application/x-redhat-package-manager",
  "application/x-rss+xml",
  "application/rtf",
  "text/richtext;charset=utf-8",
  "chemical/x-mdl-rxnfile",
  "text/x-scala;charset=utf-8",
  "application/x-scilab",
  "application/x-scilab",
  "audio/csound",
  "application/x-silverlight",
  "text/scriptlet;charset=utf-8",
  "chemical/x-mdl-sdfile",
  "audio/x-sd2",
  "application/vnd.stardivision.draw",
  "application/vnd.stardivision.calc",
  "application/vnd.stardivision.impress",
  "chemical/x-mdl-sdfile",
  "application/vnd.stardivision.chart",
  "application/vnd.stardivision.writer",
  "application/java-serialized-object",
  "application/vnd.font-fontforge-sfd",
  "text/x-sfv;charset=utf-8",
  "application/x-go-sgf",
  "application/vnd.stardivision.writer-global",
  "text/x-sh;charset=utf-8",
  "application/x-shar",
  "application/x-qgis",
  "text/html;charset=utf-8",
  "application/x-qgis",
  "audio/prs.sid",
  "application/pgp-signature",
  "application/x-trash",
  "model/mesh",
  "application/vnd.symbian.install",
  "x-epoc/x-sisx-app",
  "application/x-stuffit",
  "application/x-stuffit",
  "application/x-koan",
  "application/x-koan",
  "application/x-koan",
  "application/x-koan",
  "application/vnd.ms-powerpoint.slide.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.presentationml.slide",
  "application/smil+xml",
  "application/smil+xml",
  "audio/basic",
  "chemical/x-galactic-spc",
  "application/x-futuresplash",
  "audio/ogg",
  "application/x-sql",
  "application/x-wais-source",
  "text/plain;charset=utf-8",
  "application/vnd.sun.xml.calc.template",
  "application/vnd.sun.xml.draw.template",
  "application/vnd.sun.xml.impress.template",
  "application/sla",
  "application/vnd.sun.xml.writer.template",
  "text/x-tex;charset=utf-8",
  "application/x-sv4cpio",
  "application/x-sv4crc",
  "image/svg+xml",
  "image/svg+xml",
  "chemical/x-swissprot",
  "application/x-shockwave-flash",
  "application/x-shockwave-flash",
  "application/vnd.sun.xml.calc",
  "application/vnd.sun.xml.draw",
  "application/vnd.sun.xml.writer.global",
  "application/vnd.sun.xml.impress",
  "application/vnd.sun.xml.math",
  "application/vnd.sun.xml.writer",
  "application/x-troff",
  "application/x-tar",
  "application/x-gtar-compressed",
  "text/x-tcl;charset=utf-8",
  "text/x-tex;charset=utf-8",
  "application/x-texinfo",
  "application/x-texinfo",
  "text/plain;charset=utf-8",
  "chemical/x-mdl-tgf",
  "application/x-gtar-compressed",
  "application/vnd.ms-officetheme",
  "image/tiff",
  "image/tiff",
  "text/x-tcl;charset=utf-8",
  "text/texmacs;charset=utf-8",
  "application/x-bittorrent",
  "application/x-troff",
  "video/MP2T",
  "application/dsptype",
  "text/tab-separated-values;charset=utf-8",
  "application/font-sfnt",
  "text/turtle;charset=utf-8",
  "text/plain;charset=utf-8",
  "application/x-debian-package",
  "text/iuls;charset=utf-8",
  "application/x-ustar",
  "chemical/x-ncbi-asn1-binary",
  "text/vcard;charset=utf-8",
  "application/x-cdlink",
  "text/vcard;charset=utf-8",
  "text/x-vcalendar;charset=utf-8",
  "chemical/x-vmd",
  "chemical/x-vamas-iso14976",
  "x-world/x-vrml",
  "x-world/x-vrml",
  "application/vnd.visio",
  "application/vnd.visio",
  "application/vnd.visio",
  "application/vnd.visio",
  "application/x-doom",
  "audio/x-wav",
  "audio/x-ms-wax",
  "image/vnd.wap.wbmp",
  "application/vnd.wap.wbxml",
  "video/webm",
  "application/x-123",
  "video/x-ms-wm",
  "audio/x-ms-wma",
  "application/x-ms-wmd",
  "text/vnd.wap.wml;charset=utf-8",
  "application/vnd.wap.wmlc",
  "text/vnd.wap.wmlscript;charset=utf-8",
  "application/vnd.wap.wmlscriptc",
  "video/x-ms-wmv",
  "video/x-ms-wmx",
  "application/x-ms-wmz",
  "application/font-woff",
  "application/vnd.wordperfect5.1",
  "application/vnd.wordperfect",
  "x-world/x-vrml",
  "text/scriptlet;charset=utf-8",
  "video/x-ms-wvx",
  "application/x-wingz",
  "model/x3d+xml",
  "model/x3d+binary",
  "model/x3d+vrml",
  "image/x-xbitmap",
  "application/x-xcf",
  "application/x-scilab-xcos",
  "application/xhtml+xml",
  "application/xhtml+xml",
  "application/vnd.ms-excel.addin.macroEnabled.12",
  "application/vnd.ms-excel",
  "application/vnd.ms-excel",
  "application/vnd.ms-excel.sheet.binary.macroEnabled.12",
  "application/vnd.ms-excel.sheet.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
  "application/vnd.ms-excel",
  "application/vnd.ms-excel.template.macroEnabled.12",
  "application/vnd.openxmlformats-officedocument.spreadsheetml.template",
  "application/xml",
  "application/x-xpinstall",
  "image/x-xpixmap",
  "application/xml",
  "application/xslt+xml",
  "application/xslt+xml",
  "application/xspf+xml",
  "chemical/x-xtel",
  "application/vnd.mozilla.xul+xml",
  "image/x-xwindowdump",
  "chemical/x-xyz",
  "application/x-xz",
  "application/zip",
  "chemical/x-mopac-input",
  "application/x-trash",
  NULL
};

int mimeCompare(const void *first, const void *second){
  char * const * firstCasted = first;
  char * const * secondCasted = second;

  return strcmp(firstCasted[0], secondCasted[0]);
}

char *mime(char *path){
  int size = sizeof(char *);
  char *extention;
  char **key;

  extention = strrchr(path, '.');

  if(extention == NULL) return "application/octet-stream";

  extention = extention + 1;

  key = &extention;
  key = bsearch(key, mimeExtentions, MIME_N, size, mimeCompare);

  if(key == NULL) return "application/octet-stream";

  return mimeTypes[key - mimeExtentions];
}
